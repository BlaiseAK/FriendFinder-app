<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title> Fun Buddy Questionaire!</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
        crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt"
        crossorigin="anonymous">

</head>

<body>
    <div class="container">
        <div class="jumbotron">
            <h1> Fun Buddy! </h1>
            <hr>
            <h3>The great way to find a buddy to go through life with!</h3>
            <br>
            <div class="text-center">
                <a href="/">
                    <button class="btn btn-lg btn-primary">
                        <span class="fas fa-home"></span>
                    </button>
                </a>
            </div>
        </div>



        <form>
            <div class="form-group">
                <label for="inputName">Your name is:</label>
                <input class="form-control" id="name" type="text" placeholder="John or Jane">
            </div>
            <hr>
            <div class="form-group">
                <!-- photo upload here -->
            </div>
            <!-- all questions go here -->
            <hr>
            <!-- Question1 -->
            <div>
                <label for="inputQuestion">You like to stay in and do things around the house/apartment.</label>
                <select id="question1" class="form-control">
                    <option selected>...</option>
                    <option value="1">Strongly disagree</option>
                    <option value="2">Disagree</option>
                    <option value="3">Meh</option>
                    <option value="4">Agree</option>
                    <option value="5">Strongly agree</option>
                </select>
            </div>
            <hr>
            <!-- Question2 -->
            <div>
                <label for="inputQuestion">You like to drink.</label>
                <select id="question2" class="form-control">
                    <option selected>...</option>
                    <option value="1">Strongly disagree</option>
                    <option value="2">Disagree</option>
                    <option value="3">Meh</option>
                    <option value="4">Agree</option>
                    <option value="5">Strongly agree</option>
                </select>
            </div>
            <hr>
            <!-- Question3 -->
            <div>
                <label for="inputQuestion">You enjoy going out with friends</label>
                <select id="question3" class="form-control">
                    <option selected>...</option>
                    <option value="1">Strongly disagree</option>
                    <option value="2">Disagree</option>
                    <option value="3">Meh</option>
                    <option value="4">Agree</option>
                    <option value="5">Strongly agree</option>
                </select>
            </div>
            <hr>
            <!-- Question4 -->
            <div>
                <label for="inputQuestion">You are a morning person</label>
                <select id="question4" class="form-control">
                    <option selected>...</option>
                    <option value="1">Strongly disagree</option>
                    <option value="2">Disagree</option>
                    <option value="3">Meh</option>
                    <option value="4">Agree</option>
                    <option value="5">Strongly agree</option>
                </select>
            </div>
            <hr>
            <!-- Question5 -->
            <div>
                <label for="inputQuestion">You would rather be wacky than serious</label>
                <select id="question5" class="form-control">
                    <option selected>...</option>
                    <option value="1">Strongly disagree</option>
                    <option value="2">Disagree</option>
                    <option value="3">Meh</option>
                    <option value="4">Agree</option>
                    <option value="5">Strongly agree</option>
                </select>
            </div>
            <hr>
            <!-- Question6 -->
            <div>
                <label for="inputQuestion">You like to travel</label>
                <select id="question6" class="form-control">
                    <option selected>...</option>
                    <option value="1">Strongly disagree</option>
                    <option value="1">Disagree</option>
                    <option value="1">Meh</option>
                    <option value="1">Agree</option>
                    <option value="1">Strongly agree</option>
                </select>
            </div>
            <hr>
            <!-- Question7 -->
            <div>
                <label for="inputQuestion">You wanna have children soon</label>
                <select id="question7" class="form-control">
                    <option selected>...</option>
                    <option value="1">Strongly disagree</option>
                    <option value="2">Disagree</option>
                    <option value="3">Meh</option>
                    <option value="4">Agree</option>
                    <option value="5">Strongly agree</option>
                </select>
            </div>
            <hr>
            <!-- Question8 -->
            <div>
                <label for="inputQuestion">You are looking for a serious commited friend</label>
                <select id="question8" class="form-control">
                    <option selected>...</option>
                    <option value="1">Strongly disagree</option>
                    <option value="2">Disagree</option>
                    <option value="3">Meh</option>
                    <option value="4">Agree</option>
                    <option value="5">Strongly agree</option>
                </select>
            </div>
            <hr>
            <!-- Question9 -->
            <div>
                <label for="inputQuestion">You like playing board games</label>
                <select id="question9" class="form-control">
                    <option selected>...</option>
                    <option value="1">Strongly disagree</option>
                    <option value="2">Disagree</option>
                    <option value="3">Meh</option>
                    <option value="4">Agree</option>
                    <option value="5">Strongly agree</option>
                </select>
            </div>
            <hr>
            <!-- Question10 -->
            <div>
                <label for="inputQuestion">You like going to see the next greatest movie</label>
                <select id="question10" class="form-control">
                    <option selected>...</option>
                    <option value="1">Strongly disagree</option>
                    <option value="2">Disagree</option>
                    <option value="3">Meh</option>
                    <option value="4">Agree</option>
                    <option value="5">Strongly agree</option>
                </select>
            </div>

            <button type="submit" class="btn btn-primary submit">Submit</button>
        </form>
        <div>
            <h2>Your Matches name is: <span id="matchName"></span></h2>
        </div>


    </div>


    <script type="text/javascript">

        $(".submit").on("click", function (event) {
            event.preventDefault();

            function validateForm() {
                var isValid = true;
                $(".form-control").each(function () {

                    if ($(this).val() === "") {
                        isValid = false;
                    }

                });
                return isValid;
            }
            if (validateForm()) {
                // Here we grab the form elements
                var newBuddy = {
                    name: $("#name").val().trim(),
                    scores: [$("#question1").val().trim(), $("#question2").val().trim(), $("#question3").val().trim()]
                };

                console.log(newBuddy);

                // This line is the magic. It"s very similar to the standard ajax function we used.
                // Essentially we give it a URL, we give it the object we want to send, then we have a "callback".
                // The callback is the response of the server. In our case, we set up code in api-routes that "returns" true or false
                // depending on if a tables is available or not.



                $.post("/api/funbuddies", newBuddy,
                    function (data) {

                        $("#matchName").text(data.name)

                                                

                    });
            }
            else {
                alert("Please finish filling out the rest of the form.")
            }
        });

    </script>







    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
        crossorigin="anonymous"></script>
</body>

</html>